import{s as b,b as D,A as W,i as Y,c as y,o as x,g as h,f as G,H as k,x as J,K as O,t as E,u as H,F as L,D as R}from"./vue-vendor-C-eO5OHd.js";import{_ as Q}from"./index-k_b31qc0.js";import"http://115.190.117.177:10086/mds/pathList.js";let Z=class{constructor(s){this.color=this.parseColor(s)}parseColor(s){let l,n,i;if(s.startsWith("#")){const r=s.substring(1);l=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),i=parseInt(r.substring(4,6),16)}return this.rgbToHsl(l,n,i)}rgbToHsl(s,l,n){s/=255,l/=255,n/=255;const i=Math.max(s,l,n),r=Math.min(s,l,n);let d,m,f=(i+r)/2;if(i===r)d=m=0;else{const p=i-r;switch(m=f>.5?p/(2-i-r):p/(i+r),i){case s:d=(l-n)/p+(l<n?6:0);break;case l:d=(n-s)/p+2;break;case n:d=(s-l)/p+4;break}d/=6}return{h:d*360,s:m*100,l:f*100}}hslToRgb(s,l,n){let i,r,d;if(s/=360,l/=100,n/=100,l===0)i=r=d=n;else{const m=(w,T,v)=>(v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?w+(T-w)*6*v:v<.5?T:v<.6666666666666666?w+(T-w)*(.6666666666666666-v)*6:w),f=n<.5?n*(1+l):n+l-n*l,p=2*n-f;i=m(p,f,s+1/3),r=m(p,f,s),d=m(p,f,s-1/3)}return{r:Math.round(i*255),g:Math.round(r*255),b:Math.round(d*255)}}getComplementary(){const{h:s,s:l,l:n}=this.color,i=(s+180)%360;return this.hslToRgb(i,l,n)}getAnalogous(){const{h:s,s:l,l:n}=this.color,i=[];for(let r=-3;r<=3;r++)if(r!==0){const d=(s+r*30+360)%360;i.push(this.hslToRgb(d,l,n))}return i}getTriadic(){const{h:s,s:l,l:n}=this.color,i=(s+120)%360,r=(s+240)%360;return[this.hslToRgb(i,l,n),this.hslToRgb(r,l,n)]}getDesaturatedColors(){const{h:s,s:l,l:n}=this.color,i=[];for(let r=1;r<=5;r++){const d=l*(1-r*.2);i.push(this.hslToRgb(s,d,n))}return i}getLightenedColors(){const{h:s,s:l,l:n}=this.color,i=[];for(let r=1;r<=5;r++){const d=n+(100-n)*(r*.2);i.push(this.hslToRgb(s,l,d))}return i}};const tt={class:"width50"},et={style:{display:"flex"}},ot={id:"color-picker-container"},nt={style:{"margin-left":"50px"}},st={key:0,style:{"margin-top":"50px"}},rt={class:"color-card"},lt={class:"color-card"},at={class:"color-card"},it={class:"color-card"},ut={__name:"ColorHarmony",setup(P){let s=b(""),l=b([]),n=b([]),i=b([]),r=b([]);const d=b(0),m=b(100),f=b(100),p=b("#FF0000");function w(e,t,o){t/=100,o/=100;const a=o*t,u=e/60,c=a*(1-Math.abs(u%2-1));let g=0,M=0,C=0;u>=0&&u<1?(g=a,M=c,C=0):u>=1&&u<2?(g=c,M=a,C=0):u>=2&&u<3?(g=0,M=a,C=c):u>=3&&u<4?(g=0,M=c,C=a):u>=4&&u<5?(g=c,M=0,C=a):u>=5&&u<6&&(g=a,M=0,C=c);const $=o-a,X=Math.round((g+$)*255),z=Math.round((M+$)*255),K=Math.round((C+$)*255);return[X,z,K]}let T=!1;const v=()=>{const e=w(d.value,m.value,f.value);T=!0,p.value=j(e),setTimeout(()=>{T=!1},0)};function F(e){if(!e)return{r:0,g:0,b:0};const t=e.replace("#",""),o=parseInt(t.length===3?t.split("").map(a=>a+a).join(""):t,16);return{r:o>>16&255,g:o>>8&255,b:o&255}}function U(e,t,o){e/=255,t/=255,o/=255;const a=Math.max(e,t,o),u=Math.min(e,t,o),c=a-u;let g=0;c===0?g=0:a===e?g=(t-o)/c%6:a===t?g=(o-e)/c+2:g=(e-t)/c+4,g=Math.round((g*60+360)%360);const M=Math.round(a*100),C=Math.round((a===0?0:c/a)*100);return{h:g,s:C,v:M}}const A=D(()=>{const e=`${m.value}%`,t=`${100-f.value}%`;return{left:e,top:t}}),V=D(()=>({left:`${Math.max(0,Math.min(100,d.value/360*100))}%`,top:"calc(100% + 7px)"})),_=({r:e,g:t,b:o})=>`#${((1<<24)+(e<<16)+(t<<8)+o).toString(16).slice(1).toUpperCase()}`,I=b(!1),S=()=>{I.value=!1;const e=new Z(p.value);s.value=_(e.getComplementary()),l.value=e.getAnalogous().map(_),n.value=e.getTriadic().map(_),i.value=e.getDesaturatedColors().map(_),r.value=e.getLightenedColors().map(_),I.value=!0};function j(e){return`#${e.map(t=>t.toString(16).padStart(2,"0")).join("").toUpperCase()}`}const q=e=>{const t=e.target.getBoundingClientRect(),o=e.clientX-t.left,a=e.clientY-t.top,u=Math.max(0,Math.min(100,o/t.width*100)),c=Math.max(0,Math.min(100,100-a/t.height*100));m.value=Math.round(u),f.value=Math.round(c),v()},B=e=>{const t=e.target.getBoundingClientRect();let a=(e.clientX-t.left)/t.width*360;a=Math.max(0,Math.min(360,a)),d.value=Math.round(a),v()},N=()=>{let e=null;const t=c=>{e&&(e==="square"?q(c):e==="hue"&&B(c))},o=()=>{e=null,window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",o)},a=document.getElementById("color-square"),u=document.getElementById("hue-bar");a&&a.addEventListener("pointerdown",c=>{e="square",a.setPointerCapture(c.pointerId),q(c),window.addEventListener("pointermove",t),window.addEventListener("pointerup",o)}),u&&u.addEventListener("pointerdown",c=>{e="hue",u.setPointerCapture(c.pointerId),B(c),window.addEventListener("pointermove",t),window.addEventListener("pointerup",o)})};return W(()=>p.value,e=>{if(T){S();return}try{const{r:t,g:o,b:a}=F(e),u=U(t,o,a);d.value=u.h,m.value=u.s,f.value=u.v}catch{}S()}),Y(()=>{S(),setTimeout(()=>N(),0),v()}),(e,t)=>(x(),y("div",tt,[t[7]||(t[7]=h("h1",null,"相关色彩生成",-1)),h("div",et,[h("div",ot,[h("div",{id:"color-square",onClick:q,style:k({background:`linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to right, #fff, hsl(${d.value},100%,50%))`})},null,4),h("div",{id:"square-marker",style:k(A.value)},null,4),h("div",{id:"hue-bar",onClick:B}),h("div",{id:"hue-marker",style:k(V.value)},null,4)]),h("div",nt,[t[1]||(t[1]=h("p",{style:{"margin-top":"-.6rem"}},"选择颜色",-1)),J(h("input",{id:"colorInput",type:"color",style:{height:"46px",border:"none","border-radius":"8px"},"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o)},null,512),[[O,p.value]])])]),I.value?(x(),y("div",st,[t[2]||(t[2]=h("p",null,"互补色：",-1)),h("div",{class:"color-box",style:k({background:H(s)})},E(H(s)),5),t[3]||(t[3]=h("p",null,"相似色：",-1)),h("div",rt,[(x(!0),y(L,null,R(H(l),o=>(x(),y("div",{class:"color-box",key:o,style:k({background:o})},E(o),5))),128))]),t[4]||(t[4]=h("p",null,"三角色：",-1)),h("div",lt,[(x(!0),y(L,null,R(H(n),o=>(x(),y("div",{class:"color-box",key:o,style:k({background:o})},E(o),5))),128))]),t[5]||(t[5]=h("p",null,"灰度色：",-1)),h("div",at,[(x(!0),y(L,null,R(H(i),o=>(x(),y("div",{class:"color-box",key:o,style:k({background:o})},E(o),5))),128))]),t[6]||(t[6]=h("p",null,"亮色：",-1)),h("div",it,[(x(!0),y(L,null,R(H(r),o=>(x(),y("div",{class:"color-box",key:o,style:k({background:o})},E(o),5))),128))])])):G("",!0)]))}},gt=Q(ut,[["__scopeId","data-v-e0a965f7"]]);export{gt as default};
