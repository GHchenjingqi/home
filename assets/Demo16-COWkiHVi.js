import{u as j,L as q}from"./Loading-79aDrk5N.js";import{g as J,h as f}from"./creatMesh-osWYknU5.js";import{u as O,c}from"./useLabel-Bg-YVb_h.js";import{_ as W,r as X,d as Y,o as Z,c as $,w as R,u as H,p as T,a as E,b as w}from"./index-VRAcYr2a.js";import"./allscreen-BbwXwfjp.js";import"./loading-BwWTHRMq.js";const _=v=>(T("data-v-20f927fb"),v=v(),E(),v),ee=_(()=>w("canvas",{id:"canvas"},null,-1)),ae=_(()=>w("div",{id:"map"},null,-1)),oe=_(()=>w("div",{class:"text-box"},[w("p",null,"小球只能在3维坐标运动"),w("p",null,"按”空格“动画暂停/继续, 按“Esc”切换路径")],-1)),te={__name:"Demo16",setup(v){const l=X(!1);let i=0,s=null,V,h=null,n=null,d=null,u=null,x=null;const y=async({THREE:e,scene:r,controls:g,transControls:k,camera:z,renderer:m})=>{m.shadowMap.enabled=!0,m.shadowMap.type=e.PCFSoftShadowMap,x=await O({labelBox:"map",canvasbox:"canvas"});const t=new e.Group;n=new e.Group,s=new e.CubicBezierCurve(new e.Vector2(-1,0),new e.Vector2(-0,5),new e.Vector2(2,3),new e.Vector2(5,0));let a=await J({point:50,lineMater:{color:16711680},curve:s}),o=c("二维贝塞尔曲线","#ff0000",{x:2,y:3,z:0});t.add(o),n.add(a);const S=new e.CubicBezierCurve3(new e.Vector3(0,0,0),new e.Vector3(3,5,0),new e.Vector3(6,0,0));a=await f({point:50,lineMater:{color:16776960,dashSize:.5,gapSize:.2},curve:S}),o=c("三维贝塞尔曲线","#ffff00",{x:6,y:0,z:0}),t.add(o),n.add(a);const P=new e.QuadraticBezierCurve(new e.Vector2(-5,0),new e.Vector2(2,5),new e.Vector2(4,0));a=await f({point:50,lineMater:{color:16733457,dashSize:.5,gapSize:.2},curve:P}),o=c("二维二次贝塞尔曲线","#ff5511",{x:4,y:0,z:0}),t.add(o),n.add(a);const b=new e.QuadraticBezierCurve3(new e.Vector3(-0,0,0),new e.Vector3(2,4,0),new e.Vector3(8,0,0));a=await f({point:50,lineMater:{color:65535,dashSize:.5,gapSize:.2},curve:b}),o=c("三维二次贝塞尔曲线","#00ffff",{x:8,y:0,z:0}),t.add(o),n.add(a);const M=new e.CatmullRomCurve3([new e.Vector3(-2,0,5),new e.Vector3(-1,3,5),new e.Vector3(0,0,0),new e.Vector3(2,5,5),new e.Vector3(13,3,4)]);a=await f({point:50,lineMater:{color:255,dashSize:.5,gapSize:.2},curve:M});let G=c("三维点集合平滑曲线","#0000ff",{x:2,y:5,z:5});t.add(G),n.add(a);const D=new e.SplineCurve([new e.Vector2(-6,0),new e.Vector2(-3,5),new e.Vector2(0,0),new e.Vector2(3,-2),new e.Vector2(6,0)]);a=await f({point:50,lineMater:{color:41215,dashSize:.5,gapSize:.2},curve:D}),o=c("二维点集合平滑曲线","#00a0ff",{x:-6,y:0,z:0}),t.add(o),n.add(a),h=new e.CatmullRomCurve3([new e.Vector3(0,.5,-10),new e.Vector3(10,3,0),new e.Vector3(0,.5,10),new e.Vector3(-10,-3,0),new e.Vector3(0,.5,-10)]),a=await f({point:50,lineMater:{color:16711680,dashSize:.5,gapSize:.2},curve:h}),n.add(a),o=c("三维点平滑曲线","#ff0000",{x:10,y:1,z:0}),t.add(o),r.add(n),r.add(t);const C=new e.SphereGeometry(.5,32,32),I=new e.MeshPhongMaterial({color:65280});d=new e.Mesh(C,I),d.castShadow=!0,r.add(d),u=new e.Mesh(C,new e.MeshPhongMaterial({color:16711680})),u.castShadow=!0,u.position.set(0,.5,-10),r.add(u),s=S,V="#ffff00";const A=()=>{l.value=!l.value};let N=[S,b,M],Q=["#ffff00","#00ffff","#0000ff"],p=0;const F=()=>{l.value=!0,p>2&&(p=0),s=N[p],V=Q[p],p++,l.value=!1},K=function(U){switch(U.code){case"Space":A();break;case"Escape":F();break}};document.addEventListener("keydown",K)},B=({THREE:e,scene:r,controls:g,transControls:k,camera:z,renderer:m,stats:t})=>{if(t.update(),g.update(),m.render(r,z),x.render(r,z),!l.value)if(i<1){const a=s.getPointAt(i);d.position.copy(a),d.material.color=new e.Color(V);const o=h.getPointAt(i);u.position.copy(o),i+=.01}else i=0},{loading:L}=j({el:"#canvas",background:"#111",cameraPosition:[0,2,5],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,creatMesh:y,animation:B});return Y(()=>{d=u=s=h=null,i=0,l.value=null,x=null}),(e,r)=>(Z(),$(q,{loading:H(L)},{default:R(()=>[ee,ae,oe]),_:1},8,["loading"]))}},de=W(te,[["__scopeId","data-v-20f927fb"]]);export{de as default};
