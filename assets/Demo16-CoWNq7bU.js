import{u as K,L as U}from"./Loading-C37arUd9.js";import{g as j,h as f}from"./creatMesh-C3G3uIb3.js";import{u as q,c}from"./useLabel-BjLftDtY.js";import{_ as J,r as O,b as W,o as X,c as Y,w as Z,u as $,a as p}from"./index-XHW_bCmA.js";import"./allscreen-ltO5aUQU.js";import"./loading-Cqhoup6B.js";const R={__name:"Demo16",setup(H){const l=O(!1);let i=0,s=null,V,v=null,r=null,d=null,u=null,h=null;const C=async({THREE:e,scene:o,controls:S,transControls:B,camera:x,renderer:m})=>{m.shadowMap.enabled=!0,m.shadowMap.type=e.PCFSoftShadowMap,h=await q({labelBox:"map",canvasbox:"canvas"});const n=new e.Group;r=new e.Group,s=new e.CubicBezierCurve(new e.Vector2(-1,0),new e.Vector2(-0,5),new e.Vector2(2,3),new e.Vector2(5,0));let a=await j({point:50,lineMater:{color:16711680},curve:s}),t=c("二维贝塞尔曲线","#ff0000",{x:2,y:3,z:0});n.add(t),r.add(a);const z=new e.CubicBezierCurve3(new e.Vector3(0,0,0),new e.Vector3(3,5,0),new e.Vector3(6,0,0));a=await f({point:50,lineMater:{color:16776960,dashSize:.5,gapSize:.2},curve:z}),t=c("三维贝塞尔曲线","#ffff00",{x:6,y:0,z:0}),n.add(t),r.add(a);const L=new e.QuadraticBezierCurve(new e.Vector2(-5,0),new e.Vector2(2,5),new e.Vector2(4,0));a=await f({point:50,lineMater:{color:16733457,dashSize:.5,gapSize:.2},curve:L}),t=c("二维二次贝塞尔曲线","#ff5511",{x:4,y:0,z:0}),n.add(t),r.add(a);const g=new e.QuadraticBezierCurve3(new e.Vector3(-0,0,0),new e.Vector3(2,4,0),new e.Vector3(8,0,0));a=await f({point:50,lineMater:{color:65535,dashSize:.5,gapSize:.2},curve:g}),t=c("三维二次贝塞尔曲线","#00ffff",{x:8,y:0,z:0}),n.add(t),r.add(a);const M=new e.CatmullRomCurve3([new e.Vector3(-2,0,5),new e.Vector3(-1,3,5),new e.Vector3(0,0,0),new e.Vector3(2,5,5),new e.Vector3(13,3,4)]);a=await f({point:50,lineMater:{color:255,dashSize:.5,gapSize:.2},curve:M});let k=c("三维点集合平滑曲线","#0000ff",{x:2,y:5,z:5});n.add(k),r.add(a);const P=new e.SplineCurve([new e.Vector2(-6,0),new e.Vector2(-3,5),new e.Vector2(0,0),new e.Vector2(3,-2),new e.Vector2(6,0)]);a=await f({point:50,lineMater:{color:41215,dashSize:.5,gapSize:.2},curve:P}),t=c("二维点集合平滑曲线","#00a0ff",{x:-6,y:0,z:0}),n.add(t),r.add(a),v=new e.CatmullRomCurve3([new e.Vector3(0,.5,-10),new e.Vector3(10,3,0),new e.Vector3(0,.5,10),new e.Vector3(-10,-3,0),new e.Vector3(0,.5,-10)]),a=await f({point:50,lineMater:{color:16711680,dashSize:.5,gapSize:.2},curve:v}),r.add(a),t=c("三维点平滑曲线","#ff0000",{x:10,y:1,z:0}),n.add(t),o.add(r),o.add(n);const b=new e.SphereGeometry(.5,32,32),G=new e.MeshPhongMaterial({color:65280});d=new e.Mesh(b,G),d.castShadow=!0,o.add(d),u=new e.Mesh(b,new e.MeshPhongMaterial({color:16711680})),u.castShadow=!0,u.position.set(0,.5,-10),o.add(u),s=z,V="#ffff00";const D=()=>{l.value=!l.value};let A=[z,g,M],N=["#ffff00","#00ffff","#0000ff"],w=0;const Q=()=>{l.value=!0,w>2&&(w=0),s=A[w],V=N[w],w++,l.value=!1},F=function(I){switch(I.code){case"Space":D();break;case"Escape":Q();break}};document.addEventListener("keydown",F)},y=({THREE:e,scene:o,controls:S,transControls:B,camera:x,renderer:m,stats:n})=>{if(n.update(),S.update(),m.render(o,x),h.render(o,x),!l.value)if(i<1){const a=s.getPointAt(i);d.position.copy(a),d.material.color=new e.Color(V);const t=v.getPointAt(i);u.position.copy(t),i+=.01}else i=0},{loading:_}=K({el:"#canvas",background:"#111",cameraPosition:[0,2,5],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,creatMesh:C,animation:y});return W(()=>{d=u=s=v=null,i=0,l.value=null,h=null}),(e,o)=>(X(),Y(U,{loading:$(_)},{default:Z(()=>o[0]||(o[0]=[p("canvas",{id:"canvas"},null,-1),p("div",{id:"map"},null,-1),p("div",{class:"text-box"},[p("p",null,"小球只能在3维坐标运动"),p("p",null,"按”空格“动画暂停/继续, 按“Esc”切换路径")],-1)])),_:1},8,["loading"]))}},ne=J(R,[["__scopeId","data-v-20f927fb"]]);export{ne as default};
