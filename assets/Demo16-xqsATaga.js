import{u as I,L as K}from"./Loading-C_ZJTo4K.js";import{g as U,h as f}from"./creatMesh-74CnMAr4.js";import{u as j,c}from"./useLabel-DH9UpFPE.js";import{_ as J}from"./index-k_b31qc0.js";import{s as O,q as W,e as X,o as Y,w as Z,u as $,g as w}from"./vue-vendor-C-eO5OHd.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./three-vendor-FOuzmdZG.js";import"./loading-Dwx6fc8s.js";import"http://115.190.117.177:10086/mds/pathList.js";const R={__name:"Demo16",setup(H){const l=O(!1);let i=0,s=null,V,m=null,r=null,d=null,u=null,h=null;const y=async({THREE:e,scene:o,controls:S,transControls:B,camera:x,renderer:v})=>{v.shadowMap.enabled=!0,v.shadowMap.type=e.PCFSoftShadowMap,h=await j({labelBox:"map",canvasbox:"canvas"});const n=new e.Group;r=new e.Group,s=new e.CubicBezierCurve(new e.Vector2(-1,0),new e.Vector2(-0,5),new e.Vector2(2,3),new e.Vector2(5,0));let t=await U({point:50,lineMater:{color:16711680},curve:s}),a=c("二维贝塞尔曲线","#ff0000",{x:2,y:3,z:0});n.add(a),r.add(t);const z=new e.CubicBezierCurve3(new e.Vector3(0,0,0),new e.Vector3(3,5,0),new e.Vector3(6,0,0));t=await f({point:50,lineMater:{color:16776960,dashSize:.5,gapSize:.2},curve:z}),a=c("三维贝塞尔曲线","#ffff00",{x:6,y:0,z:0}),n.add(a),r.add(t);const L=new e.QuadraticBezierCurve(new e.Vector2(-5,0),new e.Vector2(2,5),new e.Vector2(4,0));t=await f({point:50,lineMater:{color:16733457,dashSize:.5,gapSize:.2},curve:L}),a=c("二维二次贝塞尔曲线","#ff5511",{x:4,y:0,z:0}),n.add(a),r.add(t);const g=new e.QuadraticBezierCurve3(new e.Vector3(-0,0,0),new e.Vector3(2,4,0),new e.Vector3(8,0,0));t=await f({point:50,lineMater:{color:65535,dashSize:.5,gapSize:.2},curve:g}),a=c("三维二次贝塞尔曲线","#00ffff",{x:8,y:0,z:0}),n.add(a),r.add(t);const M=new e.CatmullRomCurve3([new e.Vector3(-2,0,5),new e.Vector3(-1,3,5),new e.Vector3(0,0,0),new e.Vector3(2,5,5),new e.Vector3(13,3,4)]);t=await f({point:50,lineMater:{color:255,dashSize:.5,gapSize:.2},curve:M});let k=c("三维点集合平滑曲线","#0000ff",{x:2,y:5,z:5});n.add(k),r.add(t);const P=new e.SplineCurve([new e.Vector2(-6,0),new e.Vector2(-3,5),new e.Vector2(0,0),new e.Vector2(3,-2),new e.Vector2(6,0)]);t=await f({point:50,lineMater:{color:41215,dashSize:.5,gapSize:.2},curve:P}),a=c("二维点集合平滑曲线","#00a0ff",{x:-6,y:0,z:0}),n.add(a),r.add(t),m=new e.CatmullRomCurve3([new e.Vector3(0,.5,-10),new e.Vector3(10,3,0),new e.Vector3(0,.5,10),new e.Vector3(-10,-3,0),new e.Vector3(0,.5,-10)]),t=await f({point:50,lineMater:{color:16711680,dashSize:.5,gapSize:.2},curve:m}),r.add(t),a=c("三维点平滑曲线","#ff0000",{x:10,y:1,z:0}),n.add(a),o.add(r),o.add(n);const C=new e.SphereGeometry(.5,32,32),G=new e.MeshPhongMaterial({color:65280});d=new e.Mesh(C,G),d.castShadow=!0,o.add(d),u=new e.Mesh(C,new e.MeshPhongMaterial({color:16711680})),u.castShadow=!0,u.position.set(0,.5,-10),o.add(u),s=z,V="#ffff00";const D=()=>{l.value=!l.value};let A=[z,g,M],N=["#ffff00","#00ffff","#0000ff"],p=0;const Q=()=>{l.value=!0,p>2&&(p=0),s=A[p],V=N[p],p++,l.value=!1},q=function(F){switch(F.code){case"Space":D();break;case"Escape":Q();break}};document.addEventListener("keydown",q)},b=({THREE:e,scene:o,controls:S,transControls:B,camera:x,renderer:v,stats:n})=>{if(n.update(),S.update(),v.render(o,x),h.render(o,x),!l.value)if(i<1){const t=s.getPointAt(i);d.position.copy(t),d.material.color=new e.Color(V);const a=m.getPointAt(i);u.position.copy(a),i+=.01}else i=0},{loading:_}=I({el:"#canvas",background:"#111",cameraPosition:[0,2,5],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,creatMesh:y,animation:b});return W(()=>{d=u=s=m=null,i=0,l.value=null,h=null}),(e,o)=>(Y(),X(K,{loading:$(_)},{default:Z(()=>[...o[0]||(o[0]=[w("canvas",{id:"canvas"},null,-1),w("div",{id:"map"},null,-1),w("div",{class:"text-box"},[w("p",null,"小球只能在3维坐标运动"),w("p",null,"按”空格“动画暂停/继续, 按“Esc”切换路径")],-1)])]),_:1},8,["loading"]))}},ie=J(R,[["__scopeId","data-v-1e3a8250"]]);export{ie as default};
