import{u as E,v as C,L as z}from"./Loading-BBX_IaKR.js";import{u as M,K as m}from"./keyCodes-VZvdqqA0.js";import{C as b}from"./camera-controls.module-CggtOxtI.js";import{_ as T,b as A,o as G,c as S,w as U,a as e,u as r}from"./index-CVnQRw99.js";import"./allscreen-Z_smmqX8.js";import"./loading-DOgofshD.js";const Y={class:"btns"},I={__name:"Demo28",setup(N){let u=null,n=null,a=null,v=null;const g=async({scene:l,camera:t,renderer:o,THREE:s,stats:d})=>{b.install({THREE:s});const{keyEvent:i,clearKeys:f}=await M();v=f,u=t,t.position.set(0,8,5),a=new s.Mesh(new s.BoxGeometry(1,1,1),new s.MeshBasicMaterial({color:16711680,wireframe:!0})),l.add(a),n=new b(t,o.domElement),n.enableTransition=!0,n.transitionTime=1,n.update();const D=i(m.W,16.666),K=i(m.A,16.666),B=i(m.S,16.666),L=i(m.D,16.666);K.addEventListener("holding",function(k){n.truck(-.01,0,!1)}),L.addEventListener("holding",function(k){n.truck(.01,0,!1)}),D.addEventListener("holding",function(k){n.forward(.01,!1)}),B.addEventListener("holding",function(k){n.forward(-.01,!1)})},y=({renderer:l,scene:t,clock:o,camera:s,stats:d})=>{const i=o.getDelta(),f=n.update(i);d==null||d.update(),f&&l.render(t,s)},p=l=>{l==1?n.zoom(u.zoom/2,!0):n.zoom(-u.zoom/2,!0)},$=()=>{n.fitToBox(a,!0)},{loading:w,pregress:x}=E({el:"#canvas",background:"#111111",control:!1,helper:!0,light:!0,creatMesh:g,animation:y});return A(()=>{v(),n&&n.dispose(),u=null,n=null,a=null,v=null}),(l,t)=>(G(),S(z,{loading:r(w),pregress:r(x)},{default:U(()=>[t[16]||(t[16]=e("canvas",{id:"canvas"},null,-1)),e("div",Y,[e("button",{onClick:t[0]||(t[0]=o=>r(n).rotate(45*C.DEG2RAD,0,!0))},"x轴 rotate theta 45deg"),e("button",{onClick:t[1]||(t[1]=o=>r(n).rotate(0,20*C.DEG2RAD,!0))},"Y轴 rotate phi 20deg"),e("button",{onClick:t[2]||(t[2]=o=>r(n).truck(1,0,!0))},"x,y平移( 1, 0 )"),e("button",{onClick:t[3]||(t[3]=o=>r(n).truck(1,-1,!0))},"x,y平移( 1, -1 )"),e("button",{onClick:t[4]||(t[4]=o=>r(n).dolly(1,!0))},"推近相机1"),e("button",{onClick:t[5]||(t[5]=o=>r(n).dolly(-1,!0))},"拉远相机-1"),e("button",{onClick:t[6]||(t[6]=o=>p(1))},"放大相机"),e("button",{onClick:t[7]||(t[7]=o=>p(2))},"缩小相机"),e("button",{onClick:t[8]||(t[8]=o=>r(n).moveTo(3,5,2,!0))},"移动到( 3, 5, 2 )"),t[14]||(t[14]=e("br",null,null,-1)),e("button",{onClick:$},"屏幕适应mesh边界"),e("button",{onClick:t[9]||(t[9]=o=>r(n).setPosition(-5,2,1,!0))},"移动到 ( -5, 2, 1 )"),e("button",{onClick:t[10]||(t[10]=o=>r(n).setTarget(0,0,0,!0))},"看向 ( 0, 0, 0 )"),e("button",{onClick:t[11]||(t[11]=o=>r(n).setLookAt(1,2,3,1,1,0,!0))},"移动到 ( 1, 2, 3 ), 看向 ( 1, 1, 0 )"),t[15]||(t[15]=e("br",null,null,-1)),e("button",{onClick:t[12]||(t[12]=o=>r(n).reset(!0))},"重置"),e("button",{onClick:t[13]||(t[13]=o=>r(n).saveState())},"状态存储")])]),_:1},8,["loading","pregress"]))}},F=T(I,[["__scopeId","data-v-85c29ef8"]]);export{F as default};
