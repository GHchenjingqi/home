import{u as E,L as z,v as C}from"./Loading-BE0QEejk.js";import{u as M,K as d}from"./keyCodes-DQn5NxYo.js";import{C as b}from"./camera-controls.module-CggtOxtI.js";import{_ as T,a as A,c as G,b as S,w as U,u as s,d as e}from"./index-B2PJnxXl.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./allscreen-HmwLBpeI.js";import"./loading-DYhx7uO4.js";const Y={class:"btns"},I={__name:"Demo28",setup(N){let u=null,n=null,a=null,m=null;const g=async({scene:r,camera:t,renderer:o,THREE:l,stats:k})=>{b.install({THREE:l});const{keyEvent:i,clearKeys:v}=await M();m=v,u=t,t.position.set(0,8,5),a=new l.Mesh(new l.BoxGeometry(1,1,1),new l.MeshBasicMaterial({color:16711680,wireframe:!0})),r.add(a),n=new b(t,o.domElement),n.enableTransition=!0,n.transitionTime=1,n.update();const D=i(d.W,16.666),K=i(d.A,16.666),B=i(d.S,16.666),L=i(d.D,16.666);K.addEventListener("holding",function(f){n.truck(-.01,0,!1)}),L.addEventListener("holding",function(f){n.truck(.01,0,!1)}),D.addEventListener("holding",function(f){n.forward(.01,!1)}),B.addEventListener("holding",function(f){n.forward(-.01,!1)})},y=({renderer:r,scene:t,clock:o,camera:l,stats:k})=>{const i=o.getDelta(),v=n.update(i);k?.update(),v&&r.render(t,l)},p=r=>{r==1?n.zoom(u.zoom/2,!0):n.zoom(-u.zoom/2,!0)},$=()=>{n.fitToBox(a,!0)},{loading:w,pregress:x}=E({el:"#canvas",background:"#111111",control:!1,helper:!0,light:!0,creatMesh:g,animation:y});return A(()=>{m(),n&&n.dispose(),u=null,n=null,a=null,m=null}),(r,t)=>(S(),G(z,{loading:s(w),pregress:s(x)},{default:U(()=>[t[16]||(t[16]=e("canvas",{id:"canvas"},null,-1)),e("div",Y,[e("button",{onClick:t[0]||(t[0]=o=>s(n).rotate(45*C.DEG2RAD,0,!0))},"x轴 rotate theta 45deg"),e("button",{onClick:t[1]||(t[1]=o=>s(n).rotate(0,20*C.DEG2RAD,!0))},"Y轴 rotate phi 20deg"),e("button",{onClick:t[2]||(t[2]=o=>s(n).truck(1,0,!0))},"x,y平移( 1, 0 )"),e("button",{onClick:t[3]||(t[3]=o=>s(n).truck(1,-1,!0))},"x,y平移( 1, -1 )"),e("button",{onClick:t[4]||(t[4]=o=>s(n).dolly(1,!0))},"推近相机1"),e("button",{onClick:t[5]||(t[5]=o=>s(n).dolly(-1,!0))},"拉远相机-1"),e("button",{onClick:t[6]||(t[6]=o=>p(1))},"放大相机"),e("button",{onClick:t[7]||(t[7]=o=>p(2))},"缩小相机"),e("button",{onClick:t[8]||(t[8]=o=>s(n).moveTo(3,5,2,!0))},"移动到( 3, 5, 2 )"),t[14]||(t[14]=e("br",null,null,-1)),e("button",{onClick:$},"屏幕适应mesh边界"),e("button",{onClick:t[9]||(t[9]=o=>s(n).setPosition(-5,2,1,!0))},"移动到 ( -5, 2, 1 )"),e("button",{onClick:t[10]||(t[10]=o=>s(n).setTarget(0,0,0,!0))},"看向 ( 0, 0, 0 )"),e("button",{onClick:t[11]||(t[11]=o=>s(n).setLookAt(1,2,3,1,1,0,!0))},"移动到 ( 1, 2, 3 ), 看向 ( 1, 1, 0 )"),t[15]||(t[15]=e("br",null,null,-1)),e("button",{onClick:t[12]||(t[12]=o=>s(n).reset(!0))},"重置"),e("button",{onClick:t[13]||(t[13]=o=>s(n).saveState())},"状态存储")])]),_:1},8,["loading","pregress"]))}},Q=T(I,[["__scopeId","data-v-6d8f4f6d"]]);export{Q as default};
