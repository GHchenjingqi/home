import{u as g,L as _}from"./Loading-WLE57plb.js";import{k as r}from"./creatMesh-BE3RtILY.js";import{g as w}from"./lil-gui.module.min-Bc0DeA9g.js";import{_ as x,o as M,a as y,b,c as v,w as C,d as P,u as k}from"./index-BLTPNdxz.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./allscreen-CMxb6Fem.js";import"./loading-C7vXKyxm.js";const B={__name:"Demo31",setup(S){let a=null,f={color:"0xffffff",glass:"0xcccccc"};const s=[];let m=null;const h=async({THREE:e,scene:t,camera:d,axesHelper:i})=>{i.visible=!1,t.fog=new e.Fog(3355443,10,15);const l=r(t.children,"ferrari"),o=l==null?void 0:l.children[0].children;m=r(o,"body"),m.material=new e.MeshPhysicalMaterial({color:16777215,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03});const c=r(o[0].children,"glass");c.material=new e.MeshPhysicalMaterial({color:13421772,metalness:.25,roughness:0,transmission:1}),a.addColor(f,"color").name("车漆颜色").onChange(n=>{m.material.color.set(n)}),a.addColor(f,"glass").name("玻璃颜色").onChange(n=>{c.material.color.set(n)}),s.push(r(o,"wheel_fl"),r(o,"wheel_fr"),r(o,"wheel_rl"),r(o,"wheel_rr"))},u=({controls:e,scene:t,camera:d,renderer:i,stats:l,gridHelper:o})=>{if(s&&s.length>0){const c=-performance.now()/1e3;for(let n=0;n<s.length;n++)s[n].rotation.x=c*Math.PI*2;o.position.z=-c%1}l==null||l.update(),e==null||e.update(),i==null||i.render(t,d)},{loading:p}=g({el:"#canvas",background:"#333333",cameraPosition:[4,2.5,-6],modelPath:["ferrari.glb"],modelName:["ferrari"],modelScale:[1.2,1.2,1.2],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,showStats:!0,creatMesh:h,animation:u});return M(()=>{a=new w,a.domElement.style.top="6rem",a.domElement.style.right="100px"}),y(()=>{a.destroy(),a=null}),(e,t)=>(b(),v(_,{loading:k(p)},{default:C(()=>t[0]||(t[0]=[P("div",{id:"canvas"},null,-1)])),_:1},8,["loading"]))}},U=x(B,[["__scopeId","data-v-8b65e18f"]]);export{U as default};
