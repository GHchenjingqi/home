import{u as p,L as _}from"./Loading-BDmHM5jL.js";import{k as n}from"./creatMesh-lsVGRc5H.js";import{g as w}from"./lil-gui.module.min-Bc0DeA9g.js";import{_ as x,i as M,b as y,o as b,c as v,w as C,a as P,u as k}from"./index-BeSPUq1p.js";import"./allscreen-B_Iv-CoI.js";import"./loading-BYQXNJa8.js";const B={__name:"Demo31",setup(S){let a=null,f={color:"0xffffff",glass:"0xcccccc"};const s=[],h=async({THREE:e,scene:t,camera:d,axesHelper:i})=>{i.visible=!1,t.fog=new e.Fog(3355443,10,15);const l=n(t.children,"ferrari"),o=l==null?void 0:l.children[0].children,c=n(o,"body");c.material=new e.MeshPhysicalMaterial({color:16777215,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03});const r=n(o[0].children,"glass");r.material=new e.MeshPhysicalMaterial({color:13421772,metalness:.25,roughness:0,transmission:1}),a.addColor(f,"color").name("车漆颜色").onChange(m=>{c.material.color.set(m)}),a.addColor(f,"glass").name("玻璃颜色").onChange(m=>{r.material.color.set(m)}),s.push(n(o,"wheel_fl"),n(o,"wheel_fr"),n(o,"wheel_rl"),n(o,"wheel_rr"))},u=({controls:e,scene:t,camera:d,renderer:i,stats:l,gridHelper:o})=>{if(s&&s.length>0){const c=-performance.now()/1e3;for(let r=0;r<s.length;r++)s[r].rotation.x=c*Math.PI*2;o.position.z=-c%1}l==null||l.update(),e==null||e.update(),i==null||i.render(t,d)},{loading:g}=p({el:"#canvas",background:"#333333",cameraPosition:[4,2.5,-6],modelPath:["ferrari.glb"],modelName:["ferrari"],modelScale:[1.2,1.2,1.2],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,showStats:!0,creatMesh:h,animation:u});return M(()=>{a=new w,a.domElement.style.top="6rem",a.domElement.style.right="100px"}),y(()=>{a.destroy(),a=null}),(e,t)=>(b(),v(_,{loading:k(g)},{default:C(()=>t[0]||(t[0]=[P("div",{id:"canvas"},null,-1)])),_:1},8,["loading"]))}},F=x(B,[["__scopeId","data-v-ff55a3e8"]]);export{F as default};
