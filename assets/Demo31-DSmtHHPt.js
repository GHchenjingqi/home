import{u as _,L as w}from"./Loading-D8V0YGfz.js";import{k as s}from"./creatMesh-BTdR6c1q.js";import{g as x}from"./lil-gui.module.min-Bc0DeA9g.js";import{_ as M,j as y,o as b,a as v,b as C,c as P,w as S,d as k,u as B}from"./index-DG1iOfWX.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./allscreen-D79mMZd7.js";import"./loading-OOApyu2g.js";const D={__name:"Demo31",setup(I){const h=y();let e=null,d={color:"0xffffff",glass:"0xcccccc"};const n=[];let m=null;const u=async({THREE:o,scene:t,camera:f,axesHelper:i})=>{i.visible=!1,t.fog=new o.Fog(3355443,10,15);const l=s(t.children,"ferrari"),a=l==null?void 0:l.children[0].children;m=s(a,"body"),m.material=new o.MeshPhysicalMaterial({color:16777215,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03});const c=s(a[0].children,"glass");c.material=new o.MeshPhysicalMaterial({color:13421772,metalness:.25,roughness:0,transmission:1}),e.addColor(d,"color").name("车漆颜色").onChange(r=>{m.material.color.set(r)}),e.addColor(d,"glass").name("玻璃颜色").onChange(r=>{c.material.color.set(r)}),n.push(s(a,"wheel_fl"),s(a,"wheel_fr"),s(a,"wheel_rl"),s(a,"wheel_rr"))},p=({controls:o,scene:t,camera:f,renderer:i,stats:l,gridHelper:a})=>{if(n&&n.length>0){const c=-performance.now()/1e3;for(let r=0;r<n.length;r++)n[r].rotation.x=c*Math.PI*2;a.position.z=-c%1}l==null||l.update(),o==null||o.update(),i==null||i.render(t,f)},{loading:g}=_({el:"#canvas",background:"#333333",cameraPosition:[4,2.5,-6],modelPath:["ferrari.glb"],modelName:["ferrari"],modelScale:[1.2,1.2,1.2],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,showStats:!0,creatMesh:u,animation:p});return b(()=>{e=new x,h.isMobile?(e.domElement.style.top="1rem",e.domElement.style.right="20px"):(e.domElement.style.top="6rem",e.domElement.style.right="100px")}),v(()=>{e.destroy(),e=null}),(o,t)=>(C(),P(w,{loading:B(g)},{default:S(()=>t[0]||(t[0]=[k("div",{id:"canvas"},null,-1)])),_:1},8,["loading"]))}},V=M(D,[["__scopeId","data-v-8d1d79a9"]]);export{V as default};
