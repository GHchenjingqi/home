import{u as g,L as f}from"./Loading-DUXjiuVN.js";import{p as w,k as p}from"./creatMesh-SX38MkU2.js";import{W as _}from"./Water-d-78MD8X.js";import{_ as b,a as M,b as x,c as y,w as v,d as P,u as m}from"./index-YZd7fl1F.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./allscreen-FNc4hU0p.js";import"./loading-8T_C764B.js";const k={__name:"Demo8",setup(C){let a=null,t=null;const u=({THREE:o,scene:e,renderer:l})=>{l.toneMapping=o.ACESFilmicToneMapping,l.toneMappingExposure=.5,e.background=new o.Color(14612223);try{const i=new o.PlaneGeometry(1e4,1e4);a=new _(i,{textureWidth:512,textureHeight:512,waterNormals:new o.TextureLoader().load("/home//public/images/waternormals.jpg",function(s){s.wrapS=s.wrapT=o.RepeatWrapping}),sunDirection:new o.Vector3,sunColor:16777215,waterColor:7695,distortionScale:3.7,fog:e.fog!==void 0}),a.rotation.x=-Math.PI/2,e.add(a);let r=w({type:"point",color:16777215,intensity:600,position:[2,4,-3]});e.add(r),t=p(e.children,"boat"),t.position.y=.5,t.position.z=12,t.rotation.y=Math.PI;let n=p(e.children,"lighthouse");n.scale.set(50,50,60),n.position.set(-28,9,-200),n.rotation.y=Math.PI/2}catch{alert("加载模型异常，请刷新页面")}},d=({scene:o,camera:e,renderer:l,controls:i,stats:r})=>{const n=performance.now()*.001;a&&(a.material.uniforms.time.value+=1/60),t&&(t.position.x=Math.sin(n)*2),i==null||i.update(),l.render(o,e),r==null||r.update()},{loading:c,pregress:h}=g({el:"#canvas",background:"#333333",modelPath:["boat.glb","lighthouse.glb"],modelName:["boat","lighthouse"],modelScale:[10,10,10],cameraPosition:[0,4,10],controlAuto:!1,helper:!1,light:!1,creatMesh:u,animation:d});return M(()=>{a=null,t=null}),(o,e)=>(x(),y(f,{loading:m(c),pregress:m(h)},{default:v(()=>e[0]||(e[0]=[P("canvas",{id:"canvas"},null,-1)])),_:1},8,["loading","pregress"]))}},G=b(k,[["__scopeId","data-v-d823f337"]]);export{G as default};
