import{u as h,L as f}from"./Loading-C_ZJTo4K.js";import{p as w,k as p}from"./creatMesh-74CnMAr4.js";import{W as _}from"./Water-C7P3Hhav.js";import{_ as M}from"./index-k_b31qc0.js";import{q as b,e as x,o as y,w as v,u as m,g as P}from"./vue-vendor-C-eO5OHd.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./three-vendor-FOuzmdZG.js";import"./loading-Dwx6fc8s.js";import"http://115.190.117.177:10086/mds/pathList.js";const k={__name:"Demo8",setup(C){let a=null,e=null;const u=({THREE:t,scene:o,renderer:i})=>{i.toneMapping=t.ACESFilmicToneMapping,i.toneMappingExposure=.5,o.background=new t.Color(14612223);try{const n=new t.PlaneGeometry(1e4,1e4);a=new _(n,{textureWidth:512,textureHeight:512,waterNormals:new t.TextureLoader().load("http://115.190.117.177:10086/images/waternormals.jpg",function(l){l.wrapS=l.wrapT=t.RepeatWrapping}),sunDirection:new t.Vector3,sunColor:16777215,waterColor:7695,distortionScale:3.7,fog:o.fog!==void 0}),a.rotation.x=-Math.PI/2,o.add(a);let s=w({type:"point",color:16777215,intensity:600,position:[2,4,-3]});o.add(s),e=p(o.children,"boat"),e.position.y=.5,e.position.z=12,e.rotation.y=Math.PI;let r=p(o.children,"lighthouse");r.scale.set(50,50,60),r.position.set(-28,9,-200),r.rotation.y=Math.PI/2}catch{alert("加载模型异常，请刷新页面")}},c=({scene:t,camera:o,renderer:i,controls:n,stats:s})=>{const r=performance.now()*.001;a&&(a.material.uniforms.time.value+=1/60),e&&(e.position.x=Math.sin(r)*2),n?.update(),i.render(t,o),s?.update()},{loading:d,pregress:g}=h({el:"#canvas",background:"#333333",modelPath:["boat.glb","lighthouse.glb"],modelName:["boat","lighthouse"],modelScale:[10,10,10],cameraPosition:[0,4,10],controlAuto:!1,helper:!1,light:!1,creatMesh:u,animation:c});return b(()=>{a=null,e=null}),(t,o)=>(y(),x(f,{loading:m(d),pregress:m(g)},{default:v(()=>[...o[0]||(o[0]=[P("canvas",{id:"canvas"},null,-1)])]),_:1},8,["loading","pregress"]))}},j=M(k,[["__scopeId","data-v-4117b76c"]]);export{j as default};
