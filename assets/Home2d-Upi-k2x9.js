import{_ as U,z as X,O as L,r as M,a as R,o as q,b as w,l as _,d as l,j as W,t as b,P as F,h as Q,I as J,F as A,s as S,u as E,Q as N,c as V,y as z}from"./index-BuYTP-pm.js";import{d as O,I as K}from"./img-CH4GT_7i.js";import{u as $}from"./allscreen-DnW93eKv.js";class G{constructor(s,i){this.canvas=document.querySelector(s)||this._creatCanvas(),this.ctx=this.canvas.getContext("2d"),this.dpr=window.devicePixelRatio||1,this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,this.draw=typeof i=="function"?i:function(){},this.yUp=!1,this.shapes=[],this.origin=[0,0],this.darw_options={lineWidth:4,color:"blue"},this.init();let t=!1;window.addEventListener("resize",()=>{this.init(),t||(requestAnimationFrame(()=>{this.render(),t=!1}),t=!0)}),this.canvas.addEventListener("click",this.handleClick.bind(this))}_creatCanvas(){let s=document.createElement("canvas");return document.body.appendChild(s),s}init(){this.canvas.width=this.canvas.offsetWidth*this.dpr,this.canvas.height=this.canvas.offsetHeight*this.dpr,this.ctx.scale(this.dpr,this.dpr)}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}_draw(){this.draw&&this.draw.call(this,this.canvas,this.ctx)}resetLineDash(){this.ctx.setLineDash([])}setBackgroud(s){this.canvas.style.backgroundColor=s}center(s={}){const{origin:i,yUp:t=!1,save:c=!0}=s;t&&(this.yUp=!0,this.ctx.scale(1,-1));const a=this.canvas.width/this.dpr,h=this.canvas.height/this.dpr;let[e,n]=i||["50%","50%"];this.origin=[e,n],e=typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*a:Number(e),n=typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*h:Number(n),c&&this.ctx.save(),this.ctx.translate(e,n),this.yUp&&this.ctx.translate(0,-2*n)}line(s){const{type:i="solid",a:t=[50,50],b:c=[150,150],dash:a=[5,10],color:h="red",line:e=1}=s;i==="dash"&&this.ctx.setLineDash(a),this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t[0],t[1]),this.ctx.lineTo(c[0],c[1]),this.ctx.lineWidth=e,this.ctx.strokeStyle=h,this.ctx.stroke(),this.resetLineDash(),this.ctx.restore()}rect(s){const{type:i="fill",position:t=[50,50],size:c=[100,100],color:a="red",line:h=1,dash:e=[5,10],onClick:n=null}=s,[d,p]=t,[u,v]=c;i==="fill"?(this.ctx.fillStyle=a,this.ctx.fillRect(d,p,u,v)):(i==="stroke"||i==="dash")&&(i==="dash"&&this.ctx.setLineDash(e),this.ctx.strokeStyle=a,this.ctx.lineWidth=h,this.ctx.strokeRect(d,p,u,v),this.resetLineDash()),typeof n=="function"&&this.shapes.push({type:"rect",x:d,y:p,width:u,height:v,onClick:n})}triangle(s={}){const{type:i="fill",points:t=[[50,50],[150,50],[100,150]],color:c="red",line:a=1,dash:h=[5,10],onClick:e=null}=s,[n,d,p]=t;this.ctx.beginPath(),this.ctx.moveTo(n[0],n[1]),this.ctx.lineTo(d[0],d[1]),this.ctx.lineTo(p[0],p[1]),this.ctx.closePath(),i==="fill"?(this.ctx.fillStyle=c,this.ctx.fill()):(i==="stroke"||i==="dash")&&(i==="dash"&&this.ctx.setLineDash(h),this.ctx.strokeStyle=c,this.ctx.lineWidth=a,this.ctx.stroke(),this.resetLineDash()),typeof e=="function"&&this.shapes.push({type:"triangle",points:[n,d,p],onClick:e})}arc(s={}){const{type:i="fill",center:t=[100,100],radius:c=50,startAngle:a=0,endAngle:h=Math.PI*2,anticlockwise:e=!1,color:n="red",line:d=1,dash:p=[5,10],onClick:u=null}=s,[v,g]=t;this.ctx.beginPath(),this.ctx.arc(v,g,c,a,h,e),i==="fill"?(this.ctx.fillStyle=n,this.ctx.fill()):(i==="stroke"||i==="dash")&&(i==="dash"&&this.ctx.setLineDash(p),this.ctx.strokeStyle=n,this.ctx.lineWidth=d,this.ctx.stroke(),this.resetLineDash()),typeof u=="function"&&this.shapes.push({type:"arc",x:v,y:g,radius:c,startAngle:a,endAngle:h,onClick:u})}text(s={}){const{position:i=[50,50],text:t="Hello",color:c="white",strokeColor:a="black",fontSize:h=20,fontFamily:e="Arial",fontWeight:n="normal",align:d="left",baseline:p="top",type:u="fill"}=s,[v,g]=i;this.ctx.font=`${n} ${h}px ${e}`,this.ctx.textAlign=d,this.ctx.textBaseline=p,this.yUp?(this.ctx.save(),this.ctx.scale(1,-1),this.ctx.fillText(t,v,-g),this.ctx.restore()):((u==="fill"||u==="both")&&(this.ctx.fillStyle=c,this.ctx.fillText(t,v,g)),(u==="stroke"||u==="both")&&(this.ctx.strokeStyle=a,this.ctx.strokeText(t,v,g)))}bezier(s={}){const{start:i=[50,100],controls:t=[[100,50],[150,150]],end:c=[200,100],color:a="blue",line:h=2,dash:e=[]}=s,[n,d]=i,[p,u]=c;if(this.ctx.beginPath(),this.ctx.moveTo(n,d),e.length>0&&this.ctx.setLineDash(e),t.length===1){const[v,g]=t[0];this.ctx.quadraticCurveTo(v,g,p,u)}else if(t.length>=2){const[v,g]=t[0],[m,x]=t[1];this.ctx.bezierCurveTo(v,g,m,x,p,u)}this.ctx.strokeStyle=a,this.ctx.lineWidth=h,this.ctx.stroke(),this.resetLineDash()}image(s={}){const{src:i,position:t=[0,0],size:c=null,opacity:a=1,rotation:h=0,anchor:e=[.5,.5],onClick:n=null}=s;if(!i)return;const d=new Image;d.src=i;const[p,u]=t,[v,g]=e;d.onload=()=>{const m=c?c[0]:d.width,x=c?c[1]:d.height;this.ctx.save(),this.ctx.translate(p,u),h!==0&&this.ctx.rotate(h);const C=-m*v,k=-x*g;this.ctx.globalAlpha=a,this.ctx.drawImage(d,C,k,m,x),this.ctx.globalAlpha=1,this.ctx.restore(),typeof n=="function"&&this.shapes.push({type:"image",x:p,y:u,width:m,height:x,rotation:h,anchorX:v,anchorY:g,onClick:n})},d.onerror=m=>{console.error("Image load failed:",i,m)}}handleClick(s){const i=this.canvas.getBoundingClientRect(),t=(s.clientX-i.left)/(i.width/this.canvas.width)/this.dpr,c=(s.clientY-i.top)/(i.height/this.canvas.height)/this.dpr,a=this.yUp?this.canvas.height/this.dpr-c:c;for(let h=this.shapes.length-1;h>=0;h--){const e=this.shapes[h];let n=!1;switch(e.type){case"rect":n=this.isPointInRect(t,a,e);break;case"arc":n=this.isPointInArc(t,a,e);break;case"triangle":n=this.isPointInTriangle(t,a,e);break;case"image":n=this.isPointInImage(t,a,e);break}if(n){e.onClick();break}}}isPointInRect(s,i,t){return s>=t.x&&s<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}isPointInImage(s,i,t){const c=t.width*t.anchorX,a=t.height*t.anchorY,h=s-t.x,e=i-t.y;if(t.rotation!==0){const n=Math.cos(-t.rotation),d=Math.sin(-t.rotation),p=h*n-e*d,u=h*d+e*n;return p>=-c&&p<=t.width-c&&u>=-a&&u<=t.height-a}return s>=t.x-c&&s<=t.x-c+t.width&&i>=t.y-a&&i<=t.y-a+t.height}isPointInArc(s,i,t){const c=s-t.x,a=i-t.y;if(Math.sqrt(c*c+a*a)>t.radius)return!1;if(t.startAngle===0&&t.endAngle===Math.PI*2)return!0;let e=Math.atan2(a,c);return e<0&&(e+=Math.PI*2),t.startAngle<t.endAngle?e>=t.startAngle&&e<=t.endAngle:e>=t.startAngle||e<=t.endAngle}isPointInTriangle(s,i,t){const[c,a,h]=t.points,e=[h[0]-c[0],h[1]-c[1]],n=[a[0]-c[0],a[1]-c[1]],d=[s-c[0],i-c[1]],p=e[0]*e[0]+e[1]*e[1],u=e[0]*n[0]+e[1]*n[1],v=e[0]*d[0]+e[1]*d[1],g=n[0]*n[0]+n[1]*n[1],m=n[0]*d[0]+n[1]*d[1],x=1/(p*g-u*u),C=(g*v-u*m)*x,k=(p*m-u*v)*x;return C>=0&&k>=0&&C+k<=1}clearShapes(){this.shapes=[]}setDarwLineWidth(s){this.darw_options.lineWidth=s}setDarwColor(s){this.darw_options.color=s}drawingBoard(s={}){const{lineWidth:i=2,color:t="black"}=s;i&&this.setDarwLineWidth(i),t&&this.setDarwColor(t);let c=!1,a=0,h=0;const e=p=>{c=!0;const u=this.canvas.getBoundingClientRect(),v=(p.clientX-u.left)/this.dpr,g=(p.clientY-u.top)/this.dpr;[a,h]=[v,g]},n=p=>{if(!c)return;const u=this.canvas.getBoundingClientRect(),v=(p.clientX-u.left)/this.dpr,g=(p.clientY-u.top)/this.dpr;this.ctx.beginPath(),this.ctx.moveTo(a,h),this.ctx.lineTo(v,g),this.ctx.strokeStyle=this.darw_options.color,this.ctx.lineWidth=this.darw_options.lineWidth,this.ctx.lineCap="round",this.ctx.stroke(),[a,h]=[v,g]},d=()=>{c=!1,this.ctx.closePath()};return this.canvas.addEventListener("mousedown",e),this.canvas.addEventListener("mousemove",n),this.canvas.addEventListener("mouseup",d),this.canvas.addEventListener("mouseout",d),()=>{this.canvas.removeEventListener("mousedown",e),this.canvas.removeEventListener("mousemove",n),this.canvas.removeEventListener("mouseup",d),this.canvas.removeEventListener("mouseout",d)}}drawTextAlongArc(s,i,t={}){const{font:c="16px Arial",fontWeight:a="normal",color:h="red",inside:e=!1,charRotation:n=0,clockwise:d=!0}=t;this.ctx.save(),this.ctx.font=`${a} ${c}`,this.ctx.fillStyle=h,this.ctx.textAlign="center",this.ctx.textBaseline="middle";const[p,u]=s.center,v=s.radius;let g=s.startAngle,m=s.endAngle;d?m<g&&([g,m]=[m,g]):m>g&&([g,m]=[m,g]);const x=Math.abs(m-g),C=this.ctx.measureText(i).width,k=x/i.length,D=Math.min(1,v*x/C),I=k*D*(d?1:-1),f=I*(i.length-1),o=(x-Math.abs(f))/2*(d?1:-1);g+=o;for(let r=0;r<i.length;r++){const y=i[r],P=g+r*I,H=v+(e?-15:15),B=p+Math.cos(P)*H,Y=u+Math.sin(P)*H;let j=P+Math.PI/2+n;e&&(j+=Math.PI),this.ctx.save(),this.ctx.translate(B,Y),this.ctx.rotate(j),this.ctx.fillText(y,0,0),this.ctx.restore()}this.ctx.restore()}drawGrid(){this.ctx.save();for(let s=0;s<=this.width;s+=20)this.line({a:[s,0],b:[s,this.height],color:"ccc",line:.5});for(let s=0;s<=this.height;s+=20)this.line({a:[0,s],b:[this.width,s],color:"ccc",line:.5});this.ctx.restore()}drawStar(s,i,t,c){this.ctx.save(),this.ctx.fillStyle=t,this.ctx.beginPath();const a=c,h=c*.382;for(let e=0;e<10;e++){const n=Math.PI/5*e-Math.PI/2,d=e%2===0?a:h,p=s+d*Math.cos(n),u=i+d*Math.sin(n);e===0?this.ctx.moveTo(p,u):this.ctx.lineTo(p,u)}this.ctx.closePath(),this.ctx.fill(),this.ctx.restore()}toDataURL(s,i){return this.canvas.toDataURL(s,i)}toBlob(s,i,t){return this.canvas.toBlob(s,i,t)}save(s={}){const{type:i="png",quality:t=.9,filename:c=`canvas-${Date.now()}.${i==="png"?"png":"jpg"}`}=s,a=i==="png"?"image/png":"image/jpeg",h=this.canvas.toDataURL(a,t),e=document.createElement("a");e.href=h,e.download=c,document.body.appendChild(e),e.click(),document.body.removeChild(e)}render(){try{this.clear(),this.clearShapes(),this._draw()}catch(s){throw new Error("Error in render function",s)}}}window.Canvas=G;const Z={class:"top"},tt={class:"grid-group"},st={class:"item order1"},et={class:"title"},it={class:"subtitle hand"},nt={class:"search-box"},ot={class:"knwos-list"},ct=["onClick"],at={class:"item order2"},lt={class:"tools-group"},ht=["onClick"],rt=["src"],dt={class:"t-name"},ut={class:"item order3"},pt={class:"demo-group"},gt=["onClick"],vt=["src"],mt={class:"d-name"},ft={class:"d-des"},xt={class:"item order4"},kt={class:"title"},yt={class:"my-group"},wt={class:"my-infos"},_t={class:"my-avatar"},bt=["href"],Ct=["src"],At={class:"my-name"},Pt={class:"my-des"},St={class:"my-skills"},It={class:"item order5"},Lt={class:"npm-list"},Mt=["onClick"],Dt={class:"item order6"},Tt={class:"project-list"},Ht=["onClick"],jt=["src","alt"],Wt={class:"item order7"},Et={class:"gits"},Ut=["onClick"],Rt={__name:"Home2D",setup(T){const s=$(),i=X(),t=[].concat(L.knowledges),c=L.pageMenus.map(f=>{const{icon:o,...r}=f;return{icon:"/home/"+o,...r}}),a=M(t),h=M(""),e=()=>{if(!h.value){a.value=[].concat(L.ThreeMenus,L.knowledges,L.echartMenus);return}let f=h.value.toUpperCase();a.value=t.filter(o=>o.name.toUpperCase().includes(f))},n=(f,o=0)=>{if(o===1){window.open(f);return}s.setFlagStatus(!1),i.push(f)},d=[{id:1,name:"CanvasJS",path:"https://www.npmjs.com/package/canvasbox",des:"快速实现canvas效果"},{id:2,name:"Image2webp",path:"https://www.npmjs.com/package/image2webp",des:"图片格式压缩转换"},{id:3,name:"ChinaColor",path:"https://www.npmjs.com/package/chinacolor",des:"中国色及颜色模式转换"}],p=[{id:1,name:"ThreeJS",img:"/home//public/images/threejs.jpg",path:"/three/index",des:"Threejs实战案例"},{id:2,name:"Echarts",img:"/home//public/images/echarts.png",path:"/echart/index",des:"Echarts常用案例"}],u=O.map(f=>{let o="/home//public"+f.path+f.cover;return{...f,coverImg:o}}),v=(f,o)=>{let r=f.map(y=>"/home//public"+o+y);new K({images:r})},g=[{id:1,name:"Panda桌面应用",url:"https://github.com/GHchenjingqi/panda"},{id:2,name:"LocalServer离线服务",url:"https://github.com/GHchenjingqi/localServer"},{id:21,name:"CanvasJS",url:"https://github.com/GHchenjingqi/CanvasJS"},{id:3,name:"PWA应用",url:"https://github.com/GHchenjingqi/PWA"},{id:4,name:"MD文档",url:"https://github.com/GHchenjingqi/md"},{id:5,name:"NodeApi服务",url:"https://github.com/GHchenjingqi/nodeAPI"},{id:6,name:"QUI-Plus主题",url:"https://github.com/GHchenjingqi/QUI-Plus"},{id:6,name:"QUI-Pure主题",url:"https://github.com/GHchenjingqi/QUI-Pure"},{id:7,name:"QUI3.0",url:"https://github.com/GHchenjingqi/QUI3.0"},{id:8,name:"electron壳子",url:"https://github.com/GHchenjingqi/win-kezi"}],m={name:"Chen Jing Qi",img:"https://avatars.githubusercontent.com/u/35548612?v=4",des:"一个经历了前端领域从刀耕火种至AI化的开发者",github:"https://github.com/GHchenjingqi",skills:["Vue2","Vue3","React","小程序","JavaScript","ES6+","JQuery","HTML5","CSS3","ThreeJS","AMap","Echarts","ElementUI","Git","Vite","Webpack","Electron","Node","PHP","MySQL","Docker","..."]};R(()=>{a.value=null,h.value=null,x&&(x.clear(),window.removeEventListener("click",I),x=null)});let x=null,C=[0,0],k=[];function D(f=50,o=10){return Array.from({length:f},()=>({radius:Math.random()*o+2,center:[Math.random()*o*20+C[0],Math.random()*o*20+C[1]],color:`hsl(${Math.random()*360}, 100%, 50%)`}))}const I=f=>{C=[f.clientX,f.clientY],k=D(30)};return q(()=>{x=new G("#cas"),window.addEventListener("click",I);function f(){if(x){if(x.clear(),k.length>0)for(let o=0;o<k.length;o++){const{radius:r,center:y,color:P}=k[o];k[o].radius>.1&&(x.arc({center:y,radius:r,color:P}),k[o].radius=k[o].radius>.1?k[o].radius-.1:0,k[o].center[0]=o%2===0?k[o].center[0]+.1:k[o].center[0]-.1,k[o].center[1]=k[o].center[1]+1)}requestAnimationFrame(f)}}f()}),(f,o)=>(w(),_(A,null,[l("div",Z,[o[3]||(o[3]=l("div",{class:"tips"},"由3D模型资源较大和github托管原因，页面加载缓慢，敬请见谅！",-1)),l("div",{class:"goHome3d hand",onClick:o[0]||(o[0]=r=>n("/home"))},"3D Home >>>")]),l("div",tt,[l("div",st,[l("div",et,[o[4]||(o[4]=W("Knowledges ")),l("span",it,"共"+b(a.value.length)+"篇",1)]),l("div",nt,[l("form",{onSubmit:F(e,["prevent"])},[Q(l("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=r=>h.value=r)},null,512),[[J,h.value]]),o[5]||(o[5]=l("button",{type:"submit"},"搜索",-1))],32)]),l("div",ot,[(w(!0),_(A,null,S(a.value,(r,y)=>(w(),_("div",{class:"k-item k-hover",key:y,onClick:P=>n(r.path)},b(r.name),9,ct))),128))])]),l("div",at,[o[6]||(o[6]=l("div",{class:"title"},"Tools",-1)),l("div",lt,[(w(!0),_(A,null,S(E(c),r=>(w(),_("div",{class:"t-item k-hover",key:r.id,onClick:y=>n(r.path)},[l("img",{src:r.icon,alt:""},null,8,rt),l("div",dt,b(r.name),1)],8,ht))),128))])]),l("div",ut,[o[7]||(o[7]=l("div",{class:"title"},"Demo",-1)),l("div",pt,[(w(),_(A,null,S(p,r=>l("div",{class:"d-item c-hover",key:r.id,onClick:y=>n(r.path)},[l("img",{src:r.img,alt:""},null,8,vt),l("div",mt,b(r.name),1),l("div",ft,b(r.des),1)],8,gt)),64))])]),l("div",xt,[l("div",kt,[o[8]||(o[8]=W("Introduction ")),l("span",{class:"subtitle hand",onClick:o[2]||(o[2]=r=>n("/about"))},"在线简历")]),l("div",yt,[l("div",wt,[l("div",_t,[l("a",{href:m.github,target:"_blank"},[l("img",{src:m.img,alt:""},null,8,Ct)],8,bt)]),l("div",At,b(m.name),1),l("div",Pt,b(m.des),1)]),l("div",St,[(w(!0),_(A,null,S(m.skills,(r,y)=>(w(),_("div",{class:"m-item",key:y},"#"+b(r),1))),128))])])]),l("div",It,[o[9]||(o[9]=l("div",{class:"title"},"My NPM",-1)),l("div",Lt,[(w(),_(A,null,S(d,r=>l("div",{class:"n-item k-hover flex-sp-aic",key:r.id,onClick:y=>n(r.path,1)},[l("h3",null,b(r.name),1),l("span",null,b(r.des),1)],8,Mt)),64))])]),l("div",Dt,[o[10]||(o[10]=l("div",{class:"title"},"Projects",-1)),l("div",Tt,[(w(!0),_(A,null,S(E(u),(r,y)=>(w(),_("div",{class:"p-item",key:y,onClick:P=>v(r.imgs,r.path)},[l("img",{src:r.coverImg,alt:r.des},null,8,jt),l("p",null,b(r.name),1)],8,Ht))),128))])]),l("div",Wt,[o[11]||(o[11]=l("div",{class:"title"},"Git Works",-1)),l("div",Et,[(w(),_(A,null,S(g,r=>l("div",{class:"g-item k-hover",key:r.id,onClick:y=>n(r.url,1)},b(r.name),9,Ut)),64))])])]),o[12]||(o[12]=l("canvas",{id:"cas"},null,-1))],64))}},qt=U(Rt,[["__scopeId","data-v-9492cdf2"]]),$t={__name:"Home2d",setup(T){const s=N(),i=$(),t=M([]),c=()=>{t.value=z.menus.filter(a=>a.path!=="/"),i.setFlagStatus(!0)};return q(()=>{c()}),M(!1),R(()=>{s.showLoading(),setTimeout(()=>{s.hideLoading()},500)}),(a,h)=>(w(),V(qt))}},Xt=U($t,[["__scopeId","data-v-7474d9a1"]]);export{Xt as default};
