import{F as p}from"./FileSaver.min-B_nNakma.js";import{_ as g}from"./index-k_b31qc0.js";import{s as u,i as h,c as v,o as w,g as c,z as m}from"./vue-vendor-C-eO5OHd.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"http://115.190.117.177:10086/mds/pathList.js";const E={class:"content bg"},_={__name:"Img2ico",setup(I){const l=u(null),f=n=>{if(!n)return!1;const a=new Image;if(n){const e=new FileReader;e.onload=function(t){a.src=t.target.result},e.readAsDataURL(n)}a.onload=function(){let e=document.createElement("canvas");if(e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0),e.width>32||e.height>32){const o=document.createElement("canvas");o.width=32,o.height=32,o.getContext("2d").drawImage(e,0,0,32,32),e=o}const s=e.toDataURL("image/png"),r=i(s);p.saveAs(r,"icon.ico",{type:"image/vnd.microsoft.icon"})};function i(e){const t=e.split(","),s=t[0].match(/:(.*?);/)[1],r=atob(t[1]);let o=r.length;const d=new Uint8Array(o);for(;o--;)d[o]=r.charCodeAt(o);return new Blob([d],{type:s})}};return h(()=>{const n=document.getElementById("dropZone"),a=document.getElementById("fileInput");["dragenter","dragover","dragleave","drop"].forEach(t=>{n.addEventListener(t,i,!1)});function i(t){t.preventDefault(),t.stopPropagation()}["dragenter","dragover"].forEach(t=>{n.addEventListener(t,()=>n.classList.add("hover"),!1)}),["dragleave","drop"].forEach(t=>{n.addEventListener(t,()=>n.classList.remove("hover"),!1)}),n.addEventListener("click",()=>a.click(),!1),a.addEventListener("change",e,!1),n.addEventListener("drop",e,!1);function e(t){let s=t.dataTransfer,r=s?s.files:a.files;r.length>0&&(l.value=r[0],f(l.value))}}),(n,a)=>(w(),v("section",E,[...a[0]||(a[0]=[c("div",{class:"width50"},[c("h1",null,"PNG/JPG转Ico"),c("div",{id:"dropZone",style:{"margin-top":"1rem"}},[m("将文件拖放到此处"),c("br"),m("或点击选择文件 "),c("input",{type:"file",style:{display:"none"},id:"fileInput"})])],-1)])]))}},C=g(_,[["__scopeId","data-v-4cc652c0"]]);export{C as default};
