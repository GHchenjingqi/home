import{_ as b,r as a,b as f,l as k,d as t,E as w,h as d,J as c,c as x,m as C,F as O}from"./index-C3YQ1sF0.js";import{N as V}from"./Notification-L9tf6tVW.js";const D={class:"content"},B={style:{display:"flex"}},I={__name:"Json2",setup(U){const r=a(""),u=a('{"name":"张三","age":18, "info": {"level":"1","score":"100"} }'),n=a(2);function m(o){let e=o.replace(/(\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)(\s*:\s*)/g,function(l,p,S,$){return`${p}"${S}"${$}`});return e=e.replace(/,\s*([\}\]])/g,"$1"),e}const J=()=>{let o=m(u.value),e=JSON.stringify(JSON.parse(o),null,4);r.value=e.replace(/"(\w+)"\s*:/g,"$1:")},i=a(""),v=a(""),g=(o=0)=>{let e=m(i.value),l;try{l=JSON.parse(e)}catch(p){return console.error("Invalid JSON string:",p),"Invalid JSON string"}v.value=JSON.stringify(l,null,o)};a('{"name":"张三","age":18, "info": {"level":"1","score":"100"} }'),a("");const s=a({show:!1,message:"",type:""}),N=()=>{s.value.show=!1,s.value.message=""},y=async o=>{if(o)try{if(navigator.clipboard)await navigator.clipboard.writeText(o),s.value.message="复制成功",s.value.type="success";else{const e=document.createElement("input");e.value=o,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),s.value.message="复制成功",s.value.type="success"}s.value.show=!0}catch{s.value.message="复制失败，请重试",s.value.type="error",s.value.show=!0}};return(o,e)=>(f(),k(O,null,[t("section",D,[t("div",{class:"width50",style:w({width:n.value==2?"80%":"20%",opacity:n.value==2?"1":"0.5"}),onClick:e[4]||(e[4]=l=>n.value=2)},[e[11]||(e[11]=t("h1",null,"JSON字符串转对象",-1)),d(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),cols:"30",rows:"10",placeholder:"输入JSON字符串，双击清空",onDblclick:e[1]||(e[1]=l=>u.value="")},null,544),[[c,u.value]]),t("div",{style:{display:"flex"}},[t("button",{onClick:J},"转换")]),d(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>r.value=l),placeholder:"双击复制",cols:"30",rows:"10",onDblclick:e[3]||(e[3]=l=>y(r.value))},null,544),[[c,r.value]])],4),t("div",{class:"width50",style:w({width:n.value==3?"80%":"20%",opacity:n.value==3?"1":"0.5"}),onClick:e[10]||(e[10]=l=>n.value=3)},[e[12]||(e[12]=t("h1",null,"对象转JSON字符串",-1)),d(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>i.value=l),cols:"30",rows:"10",placeholder:"输入JS对象，双击清空",onDblclick:e[6]||(e[6]=l=>i.value="")},null,544),[[c,i.value]]),t("div",B,[t("button",{onClick:g},"单行转换"),t("button",{onClick:e[7]||(e[7]=l=>g(4))},"转换格式化")]),d(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=l=>v.value=l),placeholder:"双击复制",cols:"30",rows:"10",onDblclick:e[9]||(e[9]=l=>y(v.value))}," ",544),[[c,v.value]])],4)]),s.value.show?(f(),x(V,{key:0,message:s.value.message,type:s.value.type,duration:3e3,onClosed:N},null,8,["message","type"])):C("",!0)],64))}},M=b(I,[["__scopeId","data-v-5cf0d59e"]]);export{M as default};
