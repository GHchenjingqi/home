import{u as _,L as w}from"./Loading-z6EJ6wNw.js";import{k as r}from"./creatMesh-CdlMaM5a.js";import{g as x}from"./lil-gui.module.min-BH_YJbPT.js";import{_ as M,i as y,o as b,a as v,c as C,b as P,w as S,u as k,d as B}from"./index-B1ovB_mj.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./allscreen-BAGeJPJY.js";import"./loading-CvMl4ZZs.js";import"https://fastly.jsdelivr.net/gh/GHchenjingqi/resources/mds/pathList.js";const D={__name:"demo31",setup(I){const h=y();let e=null,m={color:"0xffffff",glass:"0xcccccc"};const s=[];let i=null;const u=async({THREE:l,scene:t,camera:d,axesHelper:c})=>{c.visible=!1,t.fog=new l.Fog(3355443,10,15);const o=r(t.children,"ferrari")?.children[0].children;i=r(o,"body"),i.material=new l.MeshPhysicalMaterial({color:16777215,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03});const n=r(o[0].children,"glass");n.material=new l.MeshPhysicalMaterial({color:13421772,metalness:.25,roughness:0,transmission:1}),e.addColor(m,"color").name("车漆颜色").onChange(a=>{i.material.color.set(a)}),e.addColor(m,"glass").name("玻璃颜色").onChange(a=>{n.material.color.set(a)}),s.push(r(o,"wheel_fl"),r(o,"wheel_fr"),r(o,"wheel_rl"),r(o,"wheel_rr"))},p=({controls:l,scene:t,camera:d,renderer:c,stats:f,gridHelper:o})=>{if(s&&s.length>0){const n=-performance.now()/1e3;for(let a=0;a<s.length;a++)s[a].rotation.x=n*Math.PI*2;o.position.z=-n%1}f?.update(),l?.update(),c?.render(t,d)},{loading:g}=_({el:"#canvas",background:"#333333",cameraPosition:[4,2.5,-6],modelPath:["ferrari.glb"],modelName:["ferrari"],modelScale:[1.2,1.2,1.2],control:!0,controlAutoSpeed:!1,helper:!0,light:!0,showStats:!0,creatMesh:u,animation:p});return b(()=>{e=new x,h.isMobile?(e.domElement.style.top="1rem",e.domElement.style.right="20px"):(e.domElement.style.top="6rem",e.domElement.style.right="100px")}),v(()=>{e.destroy(),e=null}),(l,t)=>(P(),C(w,{loading:k(g)},{default:S(()=>[...t[0]||(t[0]=[B("div",{id:"canvas"},null,-1)])]),_:1},8,["loading"]))}},q=M(D,[["__scopeId","data-v-170fe0fc"]]);export{q as default};
