import{_ as L,r,e as S,g as T,b as E,o as v,h as _,a,F as k,m as M,s as x,t as b,x as C,y as q,c as w,j as B,q as $,z as F,A as H,B as R}from"./index-3EjIAIhU.js";import{h as z}from"./highlight.pack-Ddia5PR7.js";import"./_commonjsHelpers-CqkleIqs.js";const A={class:"sub-ml"},N=["onClick"],j=["id"],I={__name:"FolderMenu",props:{items:Array},setup(g){const d=r(""),m=g,n=document.querySelector(".know-box"),e=r([]);S(()=>m.items,t=>{t&&t.length>0&&(e.value=t,n&&n.removeEventListener("scroll",c),e.value&&e.value.length>0&&(d.value=e.value[0].id,f(),o.value=document.querySelector(".sub-ml")))},{immediate:!0});const h=t=>{d.value=t.id,n.scrollTo({top:t.pixel,behavior:"smooth"})},o=r(null),c=()=>{let t=n.scrollTop+n.offsetTop+1+135;const u=e.value.reduce((l,s)=>s.pixel<=t&&(l===null||t-s.pixel<t-l.pixel)?s:l,null);if(u){let l=o.value.scrollHeight*u.pixel/n.scrollHeight-10;o.value.scrollTo({top:l,behavior:"smooth"}),d.value=u.id}},f=()=>{n.addEventListener("scroll",c,{passive:!0})};return T(()=>{e.value=m.items,e.value&&e.value.length>0&&(d.value=e.value[0].id,f(),o.value=document.querySelector(".sub-ml"))}),E(()=>{n.removeEventListener("scroll",c)}),(t,u)=>(v(),_(k,null,[u[0]||(u[0]=a("h3",{class:"sub-class"},"导航器",-1)),a("div",A,[a("ul",null,[(v(!0),_(k,null,M(e.value,l=>(v(),_("li",{key:l.id,class:x(l.class),onClick:s=>h(l)},[a("span",{id:l.id,class:x({active:d.value==l.id})},b(l.title),11,j)],10,N))),128))])])],64))}},D=L(I,[["__scopeId","data-v-6333fbe3"]]),K=["title","onClick"],U={class:"content-box"},G=["innerHTML"],J={__name:"index",setup(g){const d=$(),m=r([]),n=r(null),e=r(""),h=async s=>{if(s==e.value)return!1;u.value=[],o.value&&(o.value.scrollTop=0),n.value=await F(s),e.value=s;let p=setTimeout(()=>{const i=document.querySelectorAll("pre code");i&&i.length>0&&i.forEach(y=>{z.highlightBlock(y)}),clearTimeout(p),l()},0)},o=r(null),c=r(!1),f=r(0),t=()=>{o.value.scrollTop>100?c.value=!0:c.value=!1},u=r([]),l=async()=>{const s=document.querySelector(".contenter");if(!s)return!1;f.value++,u.value=await H(s)};return T(()=>{o.value&&o.value.addEventListener("scroll",t)}),E(()=>{o.value&&o.value.removeEventListener("scroll",t)}),C(async()=>{const p=d.currentRoute.value.query.name||"";m.value=q(),m.value.length>0&&(p?await h(p):await h(m.value[0])),f.value=1001,l()}),(s,p)=>(v(),_("div",{class:"know-box",ref_key:"knowsElement",ref:o},[a("div",{class:x(["mulu",{"fixed-sidebar":c.value}])},[p[0]||(p[0]=a("div",{class:"ml-title"},[a("h4",null,"技术目录")],-1)),a("ul",null,[(v(!0),_(k,null,M(m.value,(i,y)=>(v(),_("li",{style:R({color:i==e.value?"red":""}),key:y,title:i,onClick:O=>h(i)},b(i),13,K))),128))])],2),a("div",U,[a("h1",null,b(e.value),1),a("div",{id:"codebox",class:"contenter",innerHTML:n.value},null,8,G)]),f.value>0?(v(),_("div",{key:0,class:x(["sub-mulu",{"fixed-sidebar":c.value}])},[(v(),w(D,{items:u.value,key:f.value},null,8,["items"]))],2)):B("",!0)],512))}},W=L(J,[["__scopeId","data-v-ee775d4a"]]);export{W as default};
