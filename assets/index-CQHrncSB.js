import{_ as S,r as u,f as C,h as T,d as L,o as d,i as m,b as a,F as b,n as M,y as x,t as g,p as E,a as w,m as $,z as B,A as I,c as q,k as F,B as H,C as R,D as z}from"./index-VRAcYr2a.js";import{h as A}from"./highlight.pack-Ddia5PR7.js";import"./_commonjsHelpers-CqkleIqs.js";const N=c=>(E("data-v-ccc31b82"),c=c(),w(),c),D=N(()=>a("h3",{class:"sub-class"},"导航器",-1)),j={class:"sub-ml"},K=["onClick"],U=["id"],G={__name:"FolderMenu",props:{items:Array},setup(c){const v=u(""),p=c,o=u([]);C(()=>p.items,l=>{l&&l.length>0&&(o.value=l,v.value=o.value[0].id)},{immediate:!0});const n=document.querySelector(".know-box"),f=l=>{v.value=l.id,n.scrollTo({top:l.pixel,behavior:"smooth"})},s=u(null),_=()=>{let l=n.scrollTop+n.offsetTop+1+135;const r=o.value.reduce((e,t)=>t.pixel<=l&&(e===null||l-t.pixel<l-e.pixel)?t:e,null);if(r){let e=s.value.scrollHeight*r.pixel/n.scrollHeight-10;s.value.scrollTo({top:e,behavior:"smooth"}),v.value=r.id}},h=()=>{n.addEventListener("scroll",_,{passive:!0})};return T(()=>{o.value=p.items,o.value&&o.value.length>0&&(v.value=o.value[0].id,h(),s.value=document.querySelector(".sub-ml"))}),L(()=>{n.removeEventListener("scroll",_)}),(l,r)=>(d(),m(b,null,[D,a("div",j,[a("ul",null,[(d(!0),m(b,null,M(o.value,e=>(d(),m("li",{key:e.id,class:x(e.class),onClick:t=>f(e)},[a("span",{id:e.id,class:x({active:v.value==e.id})},g(e.title),11,U)],10,K))),128))])])],64))}},J=S(G,[["__scopeId","data-v-ccc31b82"]]),O=c=>(E("data-v-680cf676"),c=c(),w(),c),P=O(()=>a("div",{class:"ml-title"},[a("h4",null,"技术目录")],-1)),Q=["title","onClick"],V={class:"content-box"},W=["innerHTML"],X={__name:"index",setup(c){const v=$(),p=u([]),o=u(null),n=u(""),f=async t=>{if(t==n.value)return!1;r.value=[],s.value&&(s.value.scrollTop=0),o.value=await H(t),n.value=t;let k=setTimeout(()=>{const i=document.querySelectorAll("pre code");i&&i.length>0&&i.forEach(y=>{A.highlightBlock(y)}),clearTimeout(k),e()},0)},s=u(null),_=u(!1),h=u(0),l=()=>{s.value.scrollTop>100?_.value=!0:_.value=!1},r=u([]),e=async()=>{const t=document.querySelector(".contenter");if(!t)return!1;h.value++,r.value=await R(t)};return T(()=>{s.value&&s.value.addEventListener("scroll",l)}),L(()=>{s.value&&s.value.removeEventListener("scroll",l)}),B(async()=>{const k=v.currentRoute.value.query.name||"";p.value=I(),p.value.length>0&&(k?await f(k):await f(p.value[0])),h.value=1001,e()}),(t,k)=>(d(),m("div",{class:"know-box",ref_key:"knowsElement",ref:s},[a("div",{class:x(["mulu",{"fixed-sidebar":_.value}])},[P,a("ul",null,[(d(!0),m(b,null,M(p.value,(i,y)=>(d(),m("li",{style:z({color:i==n.value?"red":""}),key:y,title:i,onClick:Y=>f(i)},g(i),13,Q))),128))])],2),a("div",V,[a("h1",null,g(n.value),1),a("div",{id:"codebox",class:"contenter",innerHTML:o.value},null,8,W)]),h.value>0?(d(),m("div",{key:0,class:x(["sub-mulu",{"fixed-sidebar":_.value}])},[(d(),q(J,{items:r.value,key:h.value},null,8,["items"]))],2)):F("",!0)],512))}},te=S(X,[["__scopeId","data-v-680cf676"]]);export{te as default};
